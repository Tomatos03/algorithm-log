# [1513. 仅含 1 的子串数](https://leetcode.cn/problems/number-of-substrings-with-only-1s/)

## 解题思路

1. 按照连续的$0$和连续的$1$将原字符串分组
1. 对于连续$0$的部分直接忽略, 对于连续$1$的部分, 假设当前连续$1$的长度为$len$, 那么长度为$len$的字符串有$1$个, 长度为$len - 1$的字符串有$2$个$\cdots$长度为$1$的字符串有$len$个, 对统计总数的贡献为$\frac{len(len + 1)}{2}$

## 参考代码


```cpp
// 时间复杂度O(n)
using i64 = long long;
using pii = pair<int, int>;
class Solution {
    const int MOD = 1e9 + 7;
public:
    int numSub(string s) {
        int n = s.size(), i = 0;
        i64 cnt = 0;
        while (i < n) {
            if (s[i] == '0') {
                ++i;
                continue;
            }
            int j = i;
            while (i < n && s[i] == '1')
                ++i;
            cnt = (cnt + 1LL * (i - j) * (1 + i - j) / 2) % MOD;
        }
        return int(cnt);
    }
};
```

