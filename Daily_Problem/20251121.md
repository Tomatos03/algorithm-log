# [1930. 长度为 3 的不同回文子序列](https://leetcode.cn/problems/unique-length-3-palindromic-subsequences/)

## 解题思路

1. 注意到长度为$3$的回文串有一个性质: $s[1] = s[3]$, 中间的字符可以填充$[a, z]$之间任意字符
1. 枚举长度为$3$的回文串的第一个字符, 在确定了第一个字符后第三个字符也被确定. 找到给定字符串中第一个等于当前枚举字符的位置$l$和最后一个等于当前枚举字符的位置$r$, 问题转化为统计$[l + 1, r - 1]$之间不同字符的数量

## 参考代码


```cpp
// 时间复杂度O(26n)
class Solution {
public:
    int countPalindromicSubsequence(string s) {
        int n = s.size(), cnt = 0;
        for (int i = 0; i < 26; ++i) {
            char c = char('a' + i);
            int l = 0, r = n - 1;
            while (l <= r && s[l] != c)
                ++l;
            while (r >= l && s[r] != c)
                --r;
            int cur_cnt = 0;
            vector<bool> vis(26);
            ++l; --r;
            while (l <= r) {
                if (vis[s[l] - 'a'] == false)
                    ++cur_cnt;
                vis[s[l] - 'a'] = true;
                ++l;
            }
            cnt += cur_cnt;
        }
        return cnt;
    }
};

```

