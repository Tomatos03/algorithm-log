# [1716. 计算力扣银行的钱](https://leetcode.cn/problems/calculate-money-in-leetcode-bank/)

## 解题思路

1. 注意到每一个周比前一个周多$7$块
1. 以7天为一个周期, 将输入$n$划分为满足一个周期存钱的周期数$x$,和不满足一个周期的剩余天数$r$
1. 对于满足一个周期的存钱总存钱数为$28x + \frac{7 \times x \times max(x - 1, 0)}{2}$, 不满足一个周期的总存钱数为$\frac{2 \times \lfloor \frac{x}{7} \rfloor + r - 1}{2}$

公式中的$28 = (1 + 2 + \dots + 7)$表示以$1$块开始存钱满足一个周期时的存钱总数, $\frac{7 \times x \times max(x - 1, 0)}{2}$计算的是每一个满足一个周期的存钱总数减去$28$后剩余的存钱总数

## 参考代码

+ 时间复杂度$O(1)$


```cpp
using i64 = long long;
using pii = pair<int, int>;
class Solution {
public:
    int totalMoney(int n) {
        int x = n / 7, y = max(0, x - 1);
        int z = (n + 6) / 7;
        int r = n % 7;
        int ans = 28 * x + 7 * y * x / 2 + (2 * z + r - 1) * r / 2;
        return ans;
    }
};

```
