# [2435. 矩阵中和能被 K 整除的路径](https://leetcode.cn/problems/paths-in-matrix-whose-sum-is-divisible-by-k/)

## 解题思路

1. 注意到: 原问题存在明显的子问题, 原问题$(0, 0) \rightarrow (n - 1, m - 1)$能够被$k$整除的路径数, 以转换为$(0, 1) \rightarrow (n -1, m - 1)$和 $(1, 0) \rightarrow (n - 1, m - 1)$的路径中取余$k$余数为$0$的路径数相加.
1. 转移方程为 $f(i, j, (k_0 + r) \% k) = f(i - 1,  j, k_0) + (fi, j - 1, k_0), 其中 r = grid[i][j] \% k$

## 参考代码


```cpp
// 时间复杂度O(nmk)
class Solution {
    const int mod = 1e9 + 7;
public:
    int numberOfPaths(vector<vector<int>>& grid, int k) {
        int n = grid.size(), m = grid[0].size();
        vector<vector<int>>& g = grid;

        int f[k][n + 1][m + 1];
        memset(f, 0, sizeof(f));

        f[0][0][1] = 1;
        for (int i = 0; i < n; ++i) {
            for (int j = 0; j < m; ++j) {
                int r = g[i][j] % k;
                for (int k0 = 0; k0 < k; ++k0) {
                    f[(k0 + r) % k][i + 1][j + 1] = (f[k0][i][j + 1] + f[k0][i + 1][j]) % mod;
                }
            }
        }
        return f[0][n][m];
    }
};
```

