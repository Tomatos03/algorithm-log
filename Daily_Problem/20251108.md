# [3733. 完成所有送货任务的最少时间](https://leetcode.cn/problems/minimum-time-to-complete-all-deliveries/)

## 解题思路

1. 答案具有明显的边界性, 假设时间$t$内能够完成送货, 那么时间$t_0 > t$也能够完成
2. 如果判断时间$t$内是否能够完成送货?只需要满足如果不等式

$$
c \ge a + b + max(0, d[0] - b) + max(0, d[1] - a), 其中\\
c = t - \frac{t}{lcm}, 表示至少有一个无人机能够送货的最大时间\\
a = \frac{t}{r[0]} - \frac{t}{lcm}, 表示仅有B能够送货的最大时间\\
b = \frac{t}{r[1]} - \frac{t}{lcm}, 表示仅有A能够送货的最大时间\\
max(0, d[1] - a) 表示利用了仅有B能够送货的时间后, 还需要多少时间来完成剩余送货
$$



## 参考代码


```cpp
\\ 时间复杂度O(nlogn)
using i64 = long long;
using pii = pair<int, int>;
class Solution {
    bool check(i64 &t, vector<int> &d, vector<int> &r) {
        i64 lcm = 1LL * r[0] / __gcd(r[0], r[1]) * r[1];
        i64 c = t - t / lcm;
        i64 a = t / r[0] - t / lcm;
        i64 b = t / r[1] - t / lcm;
        return c >= max(0LL, d[0] - b) + max(0LL, d[1] - a) + a + b;
    }
public:
    long long minimumTime(vector<int>& d, vector<int>& r) {
        i64 l0 = 1, r0 = 1e10;
        while (l0 < r0) {
            i64 mid = (l0 + r0) >> 1;
            if (check(mid, d, r))
                r0 = mid;
            else
                l0 = mid + 1;
        }
        return l0;
    }
};

```

