# [2110. 股票平滑下跌阶段的数目](https://leetcode.cn/problems/number-of-smooth-descent-periods-of-a-stock/)

## 解题思路

1. 将满足$prices[i] = prices[i - 1] - 1$连续整数分为一组, $prices$数组之中按照这个规则划分可能有一个或多个组

1. 对于一个组的平滑下跌阶段的数组为$1 + 2 + \cdots + size$, 其中$size$表示该组的元素个数



```cpp
// 时间复杂度O(n)
using i64 = long long;
class Solution {
public:
    long long getDescentPeriods(vector<int>& prices) {
        i64 ans = 0;
        int i = 0, n = prices.size();
        while (i < n) {
            int j = i;
            while (i + 1 < n && prices[i + 1] == prices[i] - 1)
                ++i;
            int num = (i - j + 1);
            ans += 1LL * num * (1 + num) / 2;
            ++i;
        }
        return ans;
    }
};

```

