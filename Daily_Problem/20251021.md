# [3346. 执行操作后元素的最高频率 I](https://leetcode.cn/problems/maximum-frequency-of-an-element-after-performing-operations-i/)

## 解题思路

1. 对于一个确定的数$nums[i]$, 能够得到的$[nums[i] - k, nums[i] + k]$之间的所有数
2. 由于输入数据的最大值只有$10^5$, 这里可以考虑直接用差分数组记录那些数能够得到和能够得到的数量

## 参考代码

+ 时间复杂度$O(max(nums[i]))$


```cpp
class Solution {
public:
    int maxFrequency(vector<int>& nums, int k, int numOperations) {
        int n = nums.size(), cnt = 1;
        int inf = 1e5;
        vector<int> b(inf + 2, 0);
        vector<int> c(inf + 2, 0);
        for (int i = 0; i < n; ++i) {
            b[max(0, nums[i] - k)]++;
            b[min(nums[i] + k, inf) + 1]--;
            c[nums[i]]++;
        }
        for (int i = 1; i <= inf; ++i) {
            b[i] += b[i - 1];
        }
        for (int i = 1; i <= inf; ++i) {
            cnt = max(cnt, min(numOperations, b[i] - c[i]) + c[i]);
        }
        return cnt;
    }
};


```
