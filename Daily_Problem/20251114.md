# [2536. 子矩阵元素加 1](https://leetcode.cn/problems/increment-submatrices-by-one/)

## 解题思路

1. 输入数据量足够使用二维差分数组的技巧

## 参考代码


```cpp
using i64 = long long;
using pii = pair<int, int>;
class Solution {
public:
    vector<vector<int>> rangeAddQueries(int n, vector<vector<int>>& queries) {
        vector<vector<int>> ans(n, vector<int>(n));
        for (vector<int> query : queries) {
            int x0 = query[0], y0 = query[1];
            int x1 = query[2], y1 = query[3];
            ans[x0][y0]++;

            if (x1 + 1 < n)
                ans[x1 + 1][y0]--;

            if (y1 + 1 < n)
                ans[x0][y1 + 1]--;
            
            if (x1 + 1 < n && y1 + 1 < n)
                ans[x1 + 1][y1 + 1]++;
        }

        for (int i = 0; i < n; ++i) {
            for (int j = 0; j < n; ++j) {
                if (i >= 1)
                    ans[i][j] += ans[i - 1][j];
                if (j >= 1)
                    ans[i][j] += ans[i][j - 1];
                if (i >= 1 && j >= 1)
                    ans[i][j] -= ans[i - 1][j - 1];
            }
        }
        return ans;
    }
};

```

