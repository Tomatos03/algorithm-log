# [306. 累加数](https://leetcode.cn/problems/additive-number/)

## 解题思路

1. 只要确定了累加序列的前两个数, 后面的数都是唯一确定的
1. 枚举开头的两个数可能的值
1. $a + b$ 运算结果的数位长度至少为$max(len_a, len_b)$, 在确认累加序列开头的两个数之后, 从给定字符串$num$中删除剩这两个数字, 剩余字符串长度必须$\ge max(len_a, len_b)$

## 参考代码

+ 时间复杂度$O(n^3)$


```cpp
using i64 = long long;
class Solution {
    bool check(string &str_a, string &str_b, string &s) {
        int n = s.size(), i = 0;
        while (i < n) {
            string str_c = to_string(stoll(str_a) + stoll(str_b));
            int j = 0, m = str_c.size();
            while (i < n && j < m && str_c[j] == s[i]) {
                ++i;
                ++j;
            }
            if (j != m)
                return false;
            str_a = str_b;
            str_b = str_c;
        }
        return true;
    }
public:
    bool isAdditiveNumber(string num) {
        int n = num.size();
        for (int i = 0; i < n; ++i) {
            for (int j = i + 1; j < n; ++j) {
                int len_a = i + 1, len_b = j + 1 - len_a;
                int len_c = n - (len_b + len_a);
                if (len_c < max(len_a, len_b))
                    continue;
                string str_a = num.substr(0, len_a), str_b = num.substr(i + 1, len_b);
                if ((str_a[0] == '0' && len_a != 1) || (str_b[0] == '0' && len_b != 1))
                    continue;
                string t = num.substr(j + 1);
                if (check(str_a, str_b, t))
                    return true;
            }
        }
        return false;
    }
};

```
