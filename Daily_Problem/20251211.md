# [3531. 统计被覆盖的建筑](https://leetcode.cn/problems/count-covered-buildings/)

## 解题思路

1. 记录每一行每一列的最小值$mi$和最大值 $mx$
1. 对于一个坐标$(x, y)$, 四周都有建筑必须满足$mi_x \le x \le mx_y \and mi_y \le y \le mx_y$ 其中$mi_x$表示$x$所在行中建筑$x$坐标的最小值, $mx$与此类似

## 参考代码


```cpp
// 时间复杂度O(n)
using pii = pair<int, int>;
class Solution {
public:
    int countCoveredBuildings(int n, vector<vector<int>>& buildings) {
        vector<pii> row(n + 1, {INT_MAX, INT_MIN}), col(n + 1, {INT_MAX, INT_MIN});

        for (vector<int> &vec : buildings) {
            int x = vec[0], y = vec[1];
            row[x].first = min(row[x].first, y);
            row[x].second = max(row[x].second, y);

            col[y].first = min(col[y].first, x);
            col[y].second = max(col[y].second, x);
        }

        auto inner = [&](pii range, int v) {
            return range.first < v && v < range.second;
        };

        int cnt = 0;
        for (vector<int> &vec : buildings) {
            int x = vec[0], y = vec[1];
            if (!inner(row[x], y) || !inner(col[y], x))
                continue;
            ++cnt;
        }
        return cnt;
    }
};
```

